<!-- Efecto Lluvia de Partículas Láser -->
<style>
.laser-canvas-container {
    position: fixed;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 700px;
    height: 360px;
    z-index: -1;
    pointer-events: none;
}

#laserCanvas {
    display: block;
    width: 100%;
    height: 100%;
}
</style>

<div class="laser-canvas-container">
    <canvas id="laserCanvas"></canvas>
</div>

<script>
(function() {
    const canvas = document.getElementById('laserCanvas');
    if (!canvas) return;
    
    const ctx = canvas.getContext('2d');
    canvas.width = 700;
    canvas.height = 360;
    
    const centerX = canvas.width / 2;
    const particles = [];
    
    // Clase para partículas láser
    class LaserParticle {
        constructor() {
            this.reset();
        }
        
        reset() {
            // Posición inicial cerca del centro con algo de variación
            this.x = centerX + (Math.random() - 0.5) * 60;
            this.y = -10 - Math.random() * 50;
            
            // Velocidad de caída
            this.speed = 4 + Math.random() * 2;
            
            // Tamaño de la partícula - MÁS DELGADOS
            this.width = 0.8 + Math.random() * 0.5;
            this.length = 12 + Math.random() * 18;
            
            // Opacidad - MÁS SUTIL
            this.opacity = 0.4 + Math.random() * 0.3;
            
            // Color variation
            this.colorVariation = Math.random() * 0.3;
        }
        
        update() {
            this.y += this.speed;
            
            // Fade out cerca del fondo (antes de llegar)
            if (this.y > canvas.height - 80) {
                const fadeDistance = this.y - (canvas.height - 80);
                this.opacity = Math.max(0, this.opacity * (1 - fadeDistance / 80));
            }
            
            // Reset cuando sale del canvas
            if (this.y > canvas.height + 50) {
                this.reset();
            }
        }
        
        draw() {
            ctx.save();
            
            // Glow exterior - MÁS SUTIL
            const gradient = ctx.createLinearGradient(
                this.x, this.y - this.length,
                this.x, this.y
            );
            gradient.addColorStop(0, `rgba(186, 85, 211, 0)`);
            gradient.addColorStop(0.5, `rgba(147, 51, 234, ${this.opacity * 0.4})`);
            gradient.addColorStop(1, `rgba(186, 85, 211, ${this.opacity * 0.7})`);
            
            ctx.shadowBlur = 8;
            ctx.shadowColor = `rgba(147, 51, 234, ${this.opacity * 0.5})`;
            ctx.fillStyle = gradient;
            ctx.fillRect(
                this.x - this.width * 1.5,
                this.y - this.length,
                this.width * 3,
                this.length
            );
            
            // Core brillante - MÁS DELGADO
            const coreGradient = ctx.createLinearGradient(
                this.x, this.y - this.length,
                this.x, this.y
            );
            coreGradient.addColorStop(0, `rgba(220, 180, 255, 0)`);
            coreGradient.addColorStop(0.5, `rgba(220, 180, 255, ${this.opacity * 0.6})`);
            coreGradient.addColorStop(1, `rgba(255, 255, 255, ${this.opacity * 0.8})`);
            
            ctx.shadowBlur = 5;
            ctx.shadowColor = `rgba(220, 180, 255, ${this.opacity * 0.6})`;
            ctx.fillStyle = coreGradient;
            ctx.fillRect(
                this.x - this.width / 2,
                this.y - this.length,
                this.width,
                this.length
            );
            
            ctx.restore();
        }
    }
    
    // Crear partículas iniciales
    const particleCount = 35;
    for (let i = 0; i < particleCount; i++) {
        const particle = new LaserParticle();
        // Distribuir inicialmente en diferentes alturas
        particle.y = Math.random() * canvas.height;
        particles.push(particle);
    }
    
    function animate() {
        // Clear canvas (transparente)
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        // Actualizar y dibujar partículas
        particles.forEach(particle => {
            particle.update();
            particle.draw();
        });
        
        requestAnimationFrame(animate);
    }
    
    // Iniciar
    animate();
})();
</script>
